{"version":3,"sources":["components/user/UserProfilePage.js"],"names":["UserProfilePage","props","_this","Object","C_Users_valch_Desktop_Social_Network_Project_App_Client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","C_Users_valch_Desktop_Social_Network_Project_App_Client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_valch_Desktop_Social_Network_Project_App_Client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","componentDidMount","userId","match","params","id","console","log","setState","getUserToShowId","onSubmitHandlerDelete","e","history","push","pathname","onSubmitHandlerEdit","state","C_Users_valch_Desktop_Social_Network_Project_App_Client_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","render","authority","loggedInUserName","userService","getUsername","loggedInRole","getRole","username","authorities","isAdmin","isRoot","isCurrentUserRoot","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","style","margin","email","firstName","lastName","address","city","isLoggedInUser","_common__WEBPACK_IMPORTED_MODULE_8__","buttonClass","url","text","onClick","concat","getUserId","profilePicUrl","backgroundImageUrl","ready","prevProps","prevState","newId","lastId","Component"],"mappings":"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","file":"static/js/6.61592f89.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { userService } from '../../infrastructure';\r\nimport { Button, ButtonWithClickEvent } from '../common'\r\n\r\nexport default class UserProfilePage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            id: '',\r\n            username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            address: '',\r\n            city: '',\r\n            profilePicUrl: '',\r\n            backgroundImageUrl: '',\r\n            authorities: [],\r\n            ready: false\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const userId = this.props.match.params.id;\r\n        console.log(\"current User id: \", userId);\r\n\r\n        this.setState({id: userId});\r\n        this.props.getUserToShowId(userId);\r\n    }\r\n\r\n\r\n    onSubmitHandlerDelete = (e) => {\r\n        console.log(this.props.id)\r\n\r\n        this.props.history.push({\r\n            pathname: \"/home/users/delete/\" + this.props.id,\r\n        });\r\n    }\r\n\r\n\r\n    onSubmitHandlerEdit = (e) => {\r\n        // e.preventDefault();\r\n        console.log(this.state.id)\r\n        this.setState({...this.props})\r\n        console.log('this.state: ', this.state)\r\n        console.log('this.props: ', this.props)\r\n        debugger;\r\n\r\n        const id = this.state.id;\r\n        \r\n        this.props.history.push({\r\n            pathname: \"/home/users/edit/\" + this.state.id,\r\n            state:\r\n                { ...this.state }\r\n        });\r\n    }\r\n\r\n\r\n    componetnDidUpdate(prevProps, prevState){\r\n        const newId = this.props.match.params.id;\r\n        const lastId = prevProps.id;\r\n        console.log('prevProps: ', prevProps)\r\n        console.log('newId: ', newId)\r\n        console.log('lastId: ', lastId)\r\n        if(newId !== lastId){\r\n            this.props.getUserToShowId(newId);\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n      \r\n        if(this.props.match.params.id !== this.props.id){\r\n            this.props.getUserToShowId(this.props.match.params.id);\r\n        }\r\n\r\n        const loggedInUserName = userService.getUsername();\r\n        const loggedInRole = userService.getRole();\r\n\r\n        let showPicsButtons = true;\r\n        if (loggedInUserName !== this.state.username && (loggedInRole !== \"ROOT\")) {\r\n            showPicsButtons = false;\r\n            // this.props.history.push('/');\r\n        }\r\n\r\n        let authority;\r\n        if (this.props.authorities[0]) {\r\n            authority = this.props.authorities[0]['authority'];\r\n        }\r\n\r\n        const isAdmin = userService.isAdmin();\r\n        const isRoot = userService.isRoot();\r\n        const isCurrentUserRoot = authority === 'ROOT';\r\n\r\n        return (\r\n            <div className=\"container mx-auto text-center \" >\r\n\r\n                <h1 className=\"text-center font-weight-bold\" style={{ 'margin': '1rem auto' }}>Account Details</h1>\r\n                <hr className=\"my-2 mb-3 mt-3 col-md-8 mx-auto\" />\r\n                {/* <div className=\"d-flex justify-content-center  \"> */}\r\n                <div className=\"col-md-6 mx-auto text-center\">\r\n                    <table className=\"table table-hover mt-3 mx-auto text-center\">\r\n                        <thead>\r\n                            <tr className=\"row align-center\">\r\n                                {/* <th className=\"col-md-6\" scope=\"col\">Category:</th>\r\n                                <th className=\"col-md-6\" scope=\"col\">Price</th>  */}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\">\r\n                                    <h5 className=\" font-weight-bold\">Username</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5>{this.props.username}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">Email</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\">\r\n                                    <h5>{this.props.email}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">First Name</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5>{this.props.firstName}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">Last Name</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5>{this.props.lastName}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">Address</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\">\r\n                                    <h5>{this.props.address}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">City</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5>{this.props.city}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            {(isAdmin || isRoot) && <tr className=\"row\">\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5 className=\" font-weight-bold\">Role</h5>\r\n                                </td>\r\n                                <td className=\"col-md-6\" >\r\n                                    <h5>{authority}</h5>\r\n                                </td>\r\n                            </tr>}\r\n\r\n                        </tbody>\r\n                    </table>\r\n                    <hr className=\"my-2 mb-3 mt-3 col-md-12 mx-auto\" />\r\n                    <div className=\"d-flex justify-content-center \">\r\n                        {(((isRoot ||isAdmin) && !isCurrentUserRoot) || userService.isLoggedInUser(this.props.username)) && <ButtonWithClickEvent buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/edit/`} text={\"Edit\"} onClick={this.onSubmitHandlerEdit} />}\r\n                        {((isRoot) && !userService.isLoggedInUser(this.props.username)) && <ButtonWithClickEvent buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/delete/`} text={\"Delete\"} onClick={this.onSubmitHandlerDelete} />}\r\n                        {(isAdmin || isRoot) && <Button buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/all/${userService.getUserId()}`} text={\"All Users\"} />}\r\n\r\n                    </div >\r\n                </div >\r\n\r\n                <hr className=\"my-2 mb-3 mt-3 col-md-8 mx-auto\" />\r\n            </div >\r\n            // </div >\r\n\r\n        )\r\n    }\r\n\r\n}"],"sourceRoot":""}