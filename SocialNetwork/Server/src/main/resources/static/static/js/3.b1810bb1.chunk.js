(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{108:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return g});var r=a(96),n=a(16),s=a(20),o=a(4),l=a(13),c=a(6),i=a(5),u=a(7),m=a(3),d=a(0),p=a.n(d),h=(a(95),a(28)),b=(a(17),a(15)),f=a(18),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleBlur=function(e){return function(t){a.setState({touched:Object(s.a)({},a.state.touched,Object(n.a)({},e,!0))})}},a.validate=function(e,t){return{username:0===e.length,password:0===t.length}},a.state={username:"",password:"",touched:{username:!1,password:!1}},a.onChangeHandler=a.onChangeHandler.bind(Object(m.a)(Object(m.a)(a))),a.onSubmitHandler=a.onSubmitHandler.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeHandler",value:function(e){console.log("name: ",e.target.name),console.log("value: ",e.target.value),this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"onSubmitHandler",value:function(e){var t=this;if(e.preventDefault(),console.log("event: ",e),this.canBeSubmitted()){var a=this.state,n=(a.touched,Object(r.a)(a,["touched"]));h.a.post("/login",Object(s.a)({},n),function(e){if(console.log("response: ",e),e.error)b.toast.error(p.a.createElement(f.d.errorToast,{text:" Incorrect credentials!"}),{position:b.toast.POSITION.TOP_RIGHT});else{var a=e.split(" ")[1];localStorage.setItem("token",a),b.toast.success(p.a.createElement(f.d.successToast,{text:" You have successfully logged in!"}),{position:b.toast.POSITION.TOP_RIGHT}),t.props.history.push("/")}}).catch(function(e){console.log("Login Error (POST): ",e),localStorage.clear(),b.toast.error(p.a.createElement(f.d.errorToast,{text:"".concat(e.message)}),{position:b.toast.POSITION.TOP_RIGHT})})}}},{key:"canBeSubmitted",value:function(){var e=this.state,t=e.username,a=e.password,r=this.validate(t,a);return!Object.keys(r).some(function(e){return r[e]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,r=t.password,n=this.validate(a,r),s=!Object.keys(n).some(function(e){return n[e]}),o=function(t){var a=n[t],r=e.state.touched[t];return!!a&&r};return p.a.createElement("div",{className:"container pt-5"},p.a.createElement("h1",{className:"mt-5 mb-5 text-center font-weight-bold "},"Login"),p.a.createElement("form",{className:"Login-form-container",onSubmit:this.onSubmitHandler},p.a.createElement("div",{className:"form-group"},p.a.createElement("label",{htmlFor:"username"},"Username"),p.a.createElement("input",{type:"text",className:"form-control "+(o("username")?"error":""),id:"username",name:"username",value:this.state.username,onChange:this.onChangeHandler,onBlur:this.handleBlur("username"),"aria-describedby":"usernameHelp",placeholder:"Enter username"}),o("username")&&p.a.createElement("small",{id:"usernameHelp",className:"form-text alert alert-danger"},"Username is required!")),p.a.createElement("div",{className:"form-group"},p.a.createElement("label",{htmlFor:"password"},"Password"),p.a.createElement("input",{type:"password",className:"form-control "+(o("password")?"error":""),id:"password",name:"password",value:this.state.password,onChange:this.onChangeHandler,onBlur:this.handleBlur("password"),"aria-describedby":"passwordHelp",placeholder:"Enter password"}),o("password")&&p.a.createElement("small",{id:"passwordHelp",className:"form-text alert alert-danger"},"Password is required!")),p.a.createElement("div",{className:"text-center"},p.a.createElement("button",{disabled:!s,type:"submit",className:"btn App-button-primary btn-lg m-3"},"Login"))))}}]),t}(d.Component)},95:function(e,t,a){},96:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a(21);function n(e,t){if(null==e)return{};var a,n,s=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}}}]);
//# sourceMappingURL=3.b1810bb1.chunk.js.map