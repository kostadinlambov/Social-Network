(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){"use strict";var n=a(17);a.d(t,"a",function(){return n.a});var r=a(28);a.d(t,"b",function(){return r.a});var o=a(19);a.d(t,"c",function(){return o.a})},17:function(e,t,a){"use strict";var n={loginUser:[],notification:[]};t.a={events:{loginUser:"loginUser",notification:"notification"},subscribe:function(e,t){n[e].push(t)},trigger:function(e,t){n[e].forEach(function(e){return e(t)})}}},18:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=function(){return r.a.createElement("footer",{className:"App-footer"},r.a.createElement("div",{className:"mb-5"},r.a.createElement("p",{className:"footer"}," \xa9 Social Network @ KL 2019. All rights reserved.")))},c=a(4),s=a(13),l=a(6),i=a(5),u=a(7),m=a(1),f=(a(65),a(17)),p=a(19),h=(n.Component,a(16)),d=(a(85),{message:"",success:"",error:"",loading:"",display:"none"}),g=(n.Component,function(e){var t=e.buttonClass,a=e.url,n=e.text;return r.a.createElement(m.b,{className:t,to:a,role:"button"},n)});a(23);(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:this.props.class,onClick:this.context.router.history.goBack},this.props.text)}}]),t}(n.Component)).contextTypes={router:function(){return!0}};var v=function(e){var t=e.buttonClass,a=e.text,n=e.onClick;return r.a.createElement("button",{type:"button",className:t,onClick:n},a)},b=(a(36),{successToast:function(e){var t=e.text;e.closeToast;return r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{style:{fontSize:"25px"}},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",null,t)))},errorToast:function(e){var t=e.text;e.closeToast;return r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{style:{fontSize:"25px"}},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",{className:"font-weight-bold"},"Error!"),r.a.createElement("div",null,t)))},infoToast:function(e){var t=e.text;e.closeToast;return r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{style:{fontSize:"25px"}},r.a.createElement("i",{class:"fas fa-info-circle"})),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",null,t)))}});a.d(t,"c",function(){return o}),a.d(t,"a",function(){return g}),a.d(t,"b",function(){return v}),a.d(t,"d",function(){return b})},19:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(15),c=a(18);t.a={getPayload:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t}},getUsername:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t.sub}},getUserId:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t.id}},getRole:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t.role}},getProfilePicUrl:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t.profilePicUrl}},getFirstName:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t.firstName}},isTheUserLoggedIn:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e)try{var t=JSON.parse(atob(e.split(".")[1])),a=t.role;if(t&&(null!==a||void 0!==a))return!0}catch(n){localStorage.clear(),o.toast.error(r.a.createElement(c.d.errorToast,{text:"Unauthorized"}),{position:o.toast.POSITION.TOP_RIGHT})}return!1},isRoot:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1])),a=t.role;if(t&&(null!==a||void 0!==a)&&"ROOT"===a)return!0}return!1},isAdmin:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1])),a=t.role;if(t&&(null!==a||void 0!==a)&&("ADMIN"===a||"ROOT"===a))return!0}return!1},isLoggedInUser:function(e){var t=localStorage.getItem("token");if(null!==t&&void 0!==t){var a=JSON.parse(atob(t.split(".")[1]));if(a)return e===a.sub}},checkIfIsRoot:function(e){return"ROOT"===e},getImageSize:function(e,t){var a=new Image;return a.src=e,a.width>=a.height&&!t?"l":""}}},23:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(4),r=a(13),o=a(6),c=a(5),s=a(7),l=a(3),i=a(0),u=a.n(i),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).goBack=a.goBack.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return u.a.createElement("button",{className:this.props.class,onClick:this.goBack},this.props.text)}}]),t}(i.Component)},28:function(e,t,a){"use strict";var n=a(20),r="https://kl-social-network.herokuapp.com",o=function(){var e=localStorage.getItem("token");return e&&e.length?{Authorization:"Bearer ".concat(e)}:{}};function c(e){if(e.status>=200&&e.status<300)return e.json();var t=new Error(e.statusText);if(403===e.status&&"https://kl-social-network.herokuapp.com/login"===e.url)throw t.message="Incorrect credentials!",t.response=e,t;if(403===e.status&&"cors"===e.type)throw console.log("err response: ",e),t.message="Your JWT token is expired. Please log in!",t.status=403,t.type="cors",t;if(400===e.status)throw console.log("err response: ",e),t.message="Internal Server Error: Bad request",t.status=400,t.type="cors",t;return e.json()}t.a={get:function(e,t){return fetch(r+e,{method:"GET",headers:Object(n.a)({Accept:"application/json"},o())}).then(c).then(t)},post:function(e,t,a){return fetch(r+e,{method:"POST",headers:Object(n.a)({Accept:"application/json","Content-Type":"application/json"},o()),body:JSON.stringify(t)}).then(c).then(a)},put:function(e,t,a){return fetch(r+e,{method:"PUT",headers:Object(n.a)({Accept:"application/json","Content-Type":"application/json"},o()),body:JSON.stringify(t)}).then(c).then(a)},delete:function(e,t,a){return fetch(r+e,{method:"DELETE",headers:Object(n.a)({Accept:"application/json","Content-Type":"application/json"},o()),body:JSON.stringify(t)}).then(c).then(a)},update:function(e){return fetch(r+"/users/update",{method:"put",body:JSON.stringify(e),headers:Object(n.a)({Accept:"application/json","Content-Type":"application/json"},o())}).then(c).then(function(){return console.log("updated!!!")})}}},36:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(4),r=a(6),o=a(5),c=a(7),s=a(0),l=a.n(s),i=a(1),u=a(23),m=a(39),f=a.n(m),p=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return l.a.createElement("div",{className:"container text-center pt-5 mt-5"},l.a.createElement("h1",null,"This page isn't available"),l.a.createElement("h3",null,"The link you followed may be broken, or the page may have been removed."),l.a.createElement("div",{className:"mt-5"},l.a.createElement("img",{src:f.a,alt:"SoftUni lofo"})),l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement(u.a,Object.assign({text:"Go back to the previous page",class:"btn App-button-primary btn-lg m-3"},a.props)),l.a.createElement(i.b,{className:"btn App-button-primary btn-lg m-3",to:"/",role:"button"},"Go to Home")))},a}return Object(c.a)(t,e),t}(s.Component)},39:function(e,t,a){e.exports=a.p+"static/media/Social_Media.92c44f76.jpg"},40:function(e,t,a){e.exports=a(92)},45:function(e,t,a){},47:function(e,t,a){},65:function(e,t,a){},85:function(e,t,a){},89:function(e,t,a){e.exports=a.p+"static/media/Bender_1.f69a1054.jpeg"},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),s=a(1),l=(a(45),a(4)),i=a(13),u=a(6),m=a(5),f=a(7),p=a(3),h=a(10),d=(a(47),a(18)),g=a(15),v=(a(87),a(16)),b=(a(89),a(14)),E=(a(90),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).userLoggedIn=function(e){a.setState({username:e})},a.state={username:"",search:""},a.searchFriend=a.searchFriend.bind(Object(p.a)(Object(p.a)(a))),a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.onChangeHandler=a.onChangeHandler.bind(Object(p.a)(Object(p.a)(a))),b.a.subscribe(b.a.events.loginUser,a.userLoggedIn),a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"searchFriend",value:function(e){e.preventDefault(),console.log(this.state.search),this.props.history.push({pathname:"/home/users/search",state:{search:this.state.search}})}},{key:"handleChange",value:function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;console.log(a+" => "+n),this.setState(Object(v.a)({},a,n))}},{key:"onChangeHandler",value:function(e){console.log("name: ",e.target.name),console.log("value: ",e.target.value),this.setState(Object(v.a)({},e.target.name,e.target.value)),console.log("this.state.search: ",this.state.search)}},{key:"render",value:function(){b.c.getRole(),b.c.isAdmin();var e=b.c.getUserId(),t=this.props,a=t.loggedIn,o=t.onLogout;return r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"checkbox",name:"main-nav-toggle",id:"main-nav-toggle"}),r.a.createElement("header",{className:"site-header"},r.a.createElement("section",{className:"navbar-section"},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement("div",{className:"nav-searchbar-container"},r.a.createElement("div",{className:"site-logo"},r.a.createElement(s.b,{to:"/",className:"nav-link "},"Social Network")),a&&r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:this.searchFriend},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",name:"search",id:"search",value:this.state.search,onChange:this.onChangeHandler}),r.a.createElement("button",{className:"btn button-navbar-outline my-2 my-sm-0",type:"submit"},"Search"))),r.a.createElement("label",{id:"toggle",htmlFor:"main-nav-toggle"},r.a.createElement("span",null,"Menu")),r.a.createElement("nav",{className:"nav-main"},r.a.createElement("ul",{className:"nav-ul"},a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/home/profile/".concat(e),className:"nav-link  fas fa-user tooltipCustom"}," ",b.c.getUsername(),r.a.createElement("span",{className:"tooltiptextCustom"},"Profile"))),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/home/comments/".concat(e),className:"nav-link "},"Home")),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/home/findFriends/".concat(e,"/findFriends"),className:"nav-link "},"Find friends!")),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/home/findFriends/".concat(e,"/requests"),className:"nav-link fas fa-user-friends tooltipCustom"}," ",r.a.createElement("span",{className:"tooltiptextCustom"},"Friend Requests"))),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/home/friends/".concat(e),className:"nav-link fas fa-envelope tooltipCustom"},r.a.createElement("span",{className:"tooltiptextCustom"},"Messages"))),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"#",className:"nav-link ",onClick:o},"Logout")),!a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/login",className:"nav-link"},"Login")),!a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{exact:!0,to:"/register",className:"nav-link"},"Register"))))))))}}]),t}(n.Component)),O=Object(n.lazy)(function(){return a.e(1).then(a.bind(null,106))}),N=Object(n.lazy)(function(){return a.e(2).then(a.bind(null,107))}),j=Object(n.lazy)(function(){return a.e(3).then(a.bind(null,108))}),k=Object(n.lazy)(function(){return a.e(4).then(a.bind(null,114))}),y=Object(n.lazy)(function(){return Promise.resolve().then(a.bind(null,36))}),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onLogout=a.onLogout.bind(Object(p.a)(Object(p.a)(a))),a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"onLogout",value:function(){localStorage.clear(),g.toast.success(r.a.createElement(d.d.successToast,{text:"You have been successfully logged out!"}),{position:g.toast.POSITION.TOP_RIGHT}),this.props.history.push("/login")}},{key:"render",value:function(){var e=b.c.isTheUserLoggedIn();return r.a.createElement(n.Fragment,null,r.a.createElement(E,Object.assign({loggedIn:null!=localStorage.getItem("token"),onLogout:this.onLogout},this.props)),r.a.createElement(g.ToastContainer,{transition:g.Zoom,closeButton:!1}),r.a.createElement(n.Suspense,{fallback:r.a.createElement("h1",{className:"text-center pt-5 mt-5"},"Fallback App.js Loading...")},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:O}),!e&&r.a.createElement(h.b,{exact:!0,path:"/register",component:N}),!e&&r.a.createElement(h.b,{exact:!0,path:"/login",component:j}),e&&r.a.createElement(h.b,{path:"/home",component:k}),r.a.createElement(h.b,{exact:!0,path:"/error",component:y}),r.a.createElement(h.b,{component:y}))),r.a.createElement(d.c,null))}}]),t}(n.Component),x=Object(h.f)(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,14,13]]]);
//# sourceMappingURL=main.78132435.chunk.js.map