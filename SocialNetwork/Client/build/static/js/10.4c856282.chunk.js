(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{116:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),s=(t(95),t(96)),n=t(16),i=t(20),m=t(4),o=t(13),c=t(6),d=t(5),u=t(7),p=t(3),h=t(1),g=t(14),b=t(15),f=t(18),N=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).handleBlur=function(e){return function(a){t.setState({touched:Object(i.a)({},t.state.touched,Object(n.a)({},e,!0))})}},t.validate=function(e,a,t,r,l,s,n,i){var m=/^[A-Z]([a-zA-Z]+)?$/,o=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(a),c=m.test(t),d=m.test(r);return console.log("testEmail : ",o),{username:e.length<4||e.length>16,email:0===a.length||!o,firstName:0===t.length||!c,lastName:0===r.length||!d,address:0===l.length,city:0===s.length,profilePicUrl:0===n.length,backgroundImageUrl:0===i.length}},t.state={id:t.props.id,username:t.props.username,email:t.props.email,firstName:t.props.firstName,lastName:t.props.lastName,address:t.props.address,city:t.props.city,profilePicUrl:t.props.profilePicUrl,backgroundImageUrl:t.props.backgroundImageUrl,touched:{username:!1,email:!1,firstName:!1,lastName:!1,address:!1,city:!1,profilePicUrl:!1,backgroundImageUrl:!1}},t.onChangeHandler=t.onChangeHandler.bind(Object(p.a)(Object(p.a)(t))),t.onSubmitHandler=t.onSubmitHandler.bind(Object(p.a)(Object(p.a)(t))),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"onChangeHandler",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"onSubmitHandler",value:function(e){var a=this;if(e.preventDefault(),this.canBeSubmitted()){var t=this.state,r=(t.touched,Object(s.a)(t,["touched"])),n=g.c.getUserId();g.b.put("/users/update/"+n,Object(i.a)({},r),function(e){!0===e.success?(b.toast.success(l.a.createElement(f.d.successToast,{text:e.message}),{position:b.toast.POSITION.TOP_RIGHT}),a.props.history.push("/home/profile/".concat(a.state.id))):(b.toast.error(l.a.createElement(f.d.errorToast,{text:e.message}),{position:b.toast.POSITION.TOP_RIGHT}),a.setState({id:a.props.id,username:a.props.username,email:a.props.email,firstName:a.props.firstName,lastName:a.props.lastName,address:a.props.address,city:a.props.city,profilePicUrl:a.props.profilePicUrl,backgroundImageUrl:a.props.backgroundImageUrl}))})}}},{key:"canBeSubmitted",value:function(){var e=this.state,a=e.username,t=e.email,r=e.firstName,l=e.lastName,s=e.address,n=e.city,i=e.profilePicUrl,m=e.backgroundImageUrl,o=this.validate(a,t,r,l,s,n,i,m);return!Object.keys(o).some(function(e){return o[e]})}},{key:"render",value:function(){var e=this,a=this.state,t=a.username,r=a.email,s=a.firstName,n=a.lastName,i=a.address,m=a.city,o=a.profilePicUrl,c=a.backgroundImageUrl,d=g.c.getUsername(),u=g.c.getRole(),p=g.c.isAdmin(),b=g.c.isRoot(),f=!0;d!==t&&"ROOT"!==u&&(f=!1);var N=this.validate(t,r,s,n,i,m,o,c),E=!Object.keys(N).some(function(e){return N[e]}),y=function(a){var t=N[a],r=e.state.touched[a];return!!t&&r};return l.a.createElement("div",{className:"container "},l.a.createElement("h1",{className:"text-center font-weight-bold ",style:{margin:"1rem auto"}},"Edit Account"),l.a.createElement("hr",{className:"my-2 mb-3 mt-3 col-md-12 mx-auto"}),l.a.createElement("form",{className:"Register-form-container  ",onSubmit:this.onSubmitHandler},l.a.createElement("div",{className:"section-container w-100 mx-auto text-center"},l.a.createElement("section",{className:"left-section"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"username",className:"font-weight-bold"},"Username"),l.a.createElement("input",{type:"text",className:"form-control "+(y("username")?"error":""),id:"username",name:"username",value:this.state.username,onChange:this.onChangeHandler,onBlur:this.handleBlur("username"),"aria-describedby":"usernameHelp",placeholder:"Enter username"}),y("username")&&l.a.createElement("small",{id:"usernameHelp",className:"form-text alert alert-danger"}," ",this.state.username?"Username should be at least 4 and maximum 16 characters long!":"Username is required!")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName",className:"font-weight-bold"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control "+(y("firstName")?"error":""),id:"firstName",name:"firstName",value:this.state.firstName,onChange:this.onChangeHandler,onBlur:this.handleBlur("firstName"),"aria-describedby":"firstNameHelp",placeholder:"Enter first name"}),y("firstName")&&l.a.createElement("small",{id:"firstNameHelp",className:"form-text alert alert-danger"},this.state.firstName?"First Name must start with a capital letter and contain only letters!":"First Name is required!")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"address",className:"font-weight-bold"},"Address"),l.a.createElement("input",{type:"text",className:"form-control "+(y("address")?"error":""),id:"address",name:"address",value:this.state.address,onChange:this.onChangeHandler,onBlur:this.handleBlur("address"),"aria-describedby":"addressHelp",placeholder:"Enter address"}),y("address")&&l.a.createElement("small",{id:"addressHelp",className:"form-text alert alert-danger"},this.state.address?"":"Address is required!")),f&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"profilePicUrl",className:"font-weight-bold"},"Profile image url"),l.a.createElement("input",{type:"text",className:"form-control "+(y("profilePicUrl")?"error":""),id:"profilePicUrl",name:"profilePicUrl",value:this.state.profilePicUrl,onChange:this.onChangeHandler,onBlur:this.handleBlur("profilePicUrl"),"aria-describedby":"profilePicUrlHelp",placeholder:"Enter profile image url"}),y("profilePicUrl")&&l.a.createElement("small",{id:"profilePicUrl",className:"form-text alert alert-danger"},this.state.profilePicUrl?"":"Profile Image Url is required!"))),l.a.createElement("section",{className:"right-section"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"font-weight-bold"},"Email Address"),l.a.createElement("input",{type:"email",className:"form-control "+(y("email")?"error":""),id:"email",name:"email",value:this.state.email,onChange:this.onChangeHandler,onBlur:this.handleBlur("email"),"aria-describedby":"emailHelp",placeholder:"Enter email"}),y("email")&&l.a.createElement("small",{id:"emailHelp",className:"form-text alert alert-danger"},this.state.email?"Invalid e-mail address!":"Email is required!")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName",className:"font-weight-bold"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control "+(y("lastName")?"error":""),id:"lastName",name:"lastName",value:this.state.lastName,onChange:this.onChangeHandler,onBlur:this.handleBlur("lastName"),"aria-describedby":"lastNameHelp",placeholder:"Enter last name"}),y("lastName")&&l.a.createElement("small",{id:"lastNameHelp",className:"form-text alert alert-danger"},this.state.lastName?"Last Name must start with a capital letter and contain only letters!":"Last Name is required!")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"city",className:"font-weight-bold"},"City"),l.a.createElement("input",{type:"text",className:"form-control "+(y("city")?"error":""),id:"city",name:"city",value:this.state.city,onChange:this.onChangeHandler,onBlur:this.handleBlur("city"),"aria-describedby":"cityHelp",placeholder:"Enter city"}),y("city")&&l.a.createElement("small",{id:"cityHelp",className:"form-text alert alert-danger"},this.state.city?"":"City is required!")),f&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"backgroundImageUrl",className:"font-weight-bold"},"Cover image url"),l.a.createElement("input",{type:"text",className:"form-control "+(y("backgroundImageUrl")?"error":""),id:"backgroundImageUrl",name:"backgroundImageUrl",value:this.state.backgroundImageUrl,onChange:this.onChangeHandler,onBlur:this.handleBlur("backgroundImageUrl"),"aria-describedby":"backgroundImageUrlHelp",placeholder:"Enter cover image url"}),y("backgroundImageUrl")&&l.a.createElement("small",{id:"backgroundImageUrlHelp",className:"form-text alert alert-danger"},this.state.backgroundImageUrl?"":"Cover Image Url is required!")))),l.a.createElement("hr",{className:"my-2 mb-3 mt-3 col-md-12 mx-auto"}),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{disabled:!E,type:"submit",className:"btn App-button-primary btn-lg m-3"},"Edit"),l.a.createElement(h.b,{className:"btn App-button-primary btn-lg m-3",to:"/home/profile/".concat(this.props.id),role:"button"},"Cancel"),(p||b)&&l.a.createElement(h.b,{className:"btn App-button-primary btn-lg m-3",to:"/home/users/all/".concat(g.c.getUserId()),role:"button"},"All Users"))))}}]),a}(r.Component);a.default=function(e){return e.match.params.id!==e.id&&e.getUserToShowId(e.match.params.id),l.a.createElement(r.Fragment,null,e.id?l.a.createElement(N,e):null)}},95:function(e,a,t){},96:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var r=t(21);function l(e,a){if(null==e)return{};var t,l,s=Object(r.a)(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)t=n[l],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}}}]);
//# sourceMappingURL=10.4c856282.chunk.js.map